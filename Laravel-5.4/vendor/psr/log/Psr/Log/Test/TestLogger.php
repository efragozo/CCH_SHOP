p:!1}):st(e)?pe.map(e,{name:n,deep:!1}):Ze(!1)}),ce=X(ge),de=X(function(e,t,n){return P(e,t)?t:e}),fe={box:function(e,t){arguments.length>2&&he("box");var n=ae(t);return new G(e,se(n),n.name)},shallowBox:function(e,t){return arguments.length>2&&he("shallowBox"),pe.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&he("array");var n=ae(t);return new Ue(e,se(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&he("shallowArray"),pe.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&he("map");var n=ae(t);return new xe(e,se(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&he("shallowMap"),pe.map(e,{name:t,deep:!1})},object:function(e,t,n){return"string"==typeof arguments[1]&&he("object"),oe({},e,t,ae(n))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&he("shallowObject"),pe.object(e,{},{name:t,deep:!1})},ref:ce,shallow:ue,deep:le,struct:de},pe=function(e,t,n){if("string"==typeof arguments[1])return le.apply(null,arguments);if(ee(e))return e;var r=rt(e)?pe.object(e,t,n):Array.isArray(e)?pe.array(e,t):st(e)?pe.map(e,t):e;if(r!==e)return r;Ze(!1)};function he(e){Ze("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function me(e,t,n){return ee(e)?e:Array.isArray(e)?pe.array(e,{name:n}):rt(e)?pe.object(e,void 0,{name:n}):st(e)?pe.map(e,{name:n}):e}function ge(e){return e}function ye(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function ve(e,t){it(e,ye(),t)}function be(e){return e[ye()]=_e,e}function _e(){return this}function Se(e,t){void 0===t&&(t=void 0),St();try{return e.apply(t)}finally{wt()}}Object.keys(fe).forEach(function(e){return pe[e]=fe[e]});var we={},xe=function(){function e(e,t,n){if(void 0===t&&(t=me),void 0===n&&(n="ObservableMap@"+Je()),this.enhancer=t,this.name=n,this.$mobx=we,this._keys=new Ue(void 0,ge,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},e.prototype.set=function(e,t){var n=this._has(e);if(B(this)){var r=U(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(B(this)&&!(o=U(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=p(),r=W(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&m(a({},o,{name:this.name,key:e})),Se(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),r&&V(this,o),n&&y(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);return n?n.setNewValue(t):(n=new G(t,ge,this.name+"."+e+"?",!1),this._hasMap.set(e,n)),n},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==z){var r=p(),o=W(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&m(a({},i,{name:this.name,key:e})),n.setNewValue(t),o&&V(this,i),r&&y()}},e.prototype._addValue=function(e,t){var n=this;Se(function(){var r=new G(t,n.enhancer,n.name+"."+e,!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var r=p(),o=W(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&m(a({},i,{name:this.name,key:e})),o&&V(this,i),r&&y()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keys[ye()]()},e.prototype.values=function(){var e=this,t=0;return be({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return be({next:function(){if(t<e._keys.length){var n=e._keys[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var n=this;this._keys.forEach(function(r){return e.call(t,n.get(r),r,n)})},e.prototype.merge=function(e){var t=this;return Te(e)&&(e=e.toJS()),Se(function(){rt(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArra