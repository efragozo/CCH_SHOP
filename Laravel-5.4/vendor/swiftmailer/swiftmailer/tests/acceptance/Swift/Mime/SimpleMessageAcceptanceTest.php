e;e||(e=t.document?t.document.readyState:"complete");e==="complete"||t.document&&t.document.body!==null?i?s.schedule(function(){f()},s.Priority.normal,null,"WinJS.Utilities.ready"):f():t.addEventListener("DOMContentLoaded",f,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:r.markSupportedForProcessing,configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(n){var i=!0,r,e;i=i&&n!==t;i=i&&n!==t.location;i=i&&!(n instanceof t.HTMLIFrameElement);i=i&&!(typeof n=="function"&&!n.supportedForProcessing);switch(t.frames.length){case 0:break;case 1:i=i&&n!==t.frames[0];break;default:for(r=0,e=t.frames.length;i&&r<e;r++)i=i&&n!==t.frames[r]}if(i)return n;throw new u("WinJS.Utilities.requireSupportedForProcessing",f._formatString(k.notSupportedForProcessing,n));},configurable:!1,writable:!1,enumerable:!0},_setImmediate:r._setImmediate,_requestAnimationFrame:t.requestAnimationFrame?t.requestAnimationFrame.bind(t):function(n){var i=++d;return h[i]=n,c=c||t.setTimeout(function(){var n=h,t=Date.now();h={};c=null;Object.keys(n).forEach(function(i){n[i](t)})},16),i},_cancelAnimationFrame:t.cancelAnimationFrame?t.cancelAnimationFrame.bind(t):function(n){delete h[n]},_yieldForEvents:t.setImmediate?t.setImmediate.bind(t):function(n){t.setTimeout(n,0)},_yieldForDomModification:t.setImmediate?t.setImmediate.bind(t):function(n){t.setTimeout(n,0)},_throttledFunction:rt,_shallowCopy:function(n){return this._mergeAll([n])},_merge:function(n,t){return this._mergeAll([n,t])},_mergeAll:function(n){var t={};return n.forEach(function(n){Object.keys(n).forEach(function(i){t[i]=n[i]})}),t},_getProfilerMarkIdentifier:function(n){var t="";return n.id&&(t+=" id='"+n.id+"'"),n.className&&(t+=" class='"+n.className+"'"),t},_now:function(){return t.performance&&t.performance.now&&t.performance.now()||Date.now()},_traceAsyncOperationStarting:e._traceAsyncOperationStarting,_traceAsyncOperationCompleted:e._traceAsyncOperationCompleted,_traceAsyncCallbackStarting:e._traceAsyncCallbackStarting,_traceAsyncCallbackCompleted:e._traceAsyncCallbackCompleted,_version:"4.4.0"});i.Namespace._moduleDefine(n,"WinJS",{validation:{get:function(){return v},set:function(n){v=n}}});i.Namespace.define("WinJS",{strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}),r("WinJS/Utilities/_ElementUtilities",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WinRT","../Promise","../Scheduler"],function(n,t,i,r,u,f,e){"use strict";function ui(){return b||(b={},Object.keys(t.CSS2Properties.prototype).forEach(function(n){b[n]=""})),b}function l(n,i){return t.getComputedStyle(n,i)||ui()}function v(n){for(var i=n.length,t=i-1;t>=0;t--)n[t]||(n.splice(t,1),i--);return i}function d(n){var t=n.className||"";return typeof t=="string"?t:t.baseVal||""}function y(n,t){var i=n.className||"";return typeof i=="string"?n.className=t:n.className.baseVal=t,n}function rt(n,t){var h,r,o,s,i;if(n.classList){if(t.indexOf(" ")<0)n.classList.add(t);else for(r=t.split(" "),v(r),i=0,h=r.length;i<h;i++)n.classList.add(r[i]);return n}var c=d(n),f=c.split(" "),e=v(f),u;if(t.indexOf(" ")>=0){for(r=t.split(" "),v(r),i=0;i<e;i++)o=r.indexOf(f[i]),o>=0&&r.splice(o,1);r.length>0&&(u=r.join(" "))}else{for(s=!1,i=0;i<e;i++)if(f[i]===t){s=!0;break}s||(u=t)}return u&&(e>0&&f[0].length>0?y(n,c+" "+u):y(n,u)),n}function ut(n,t){var e,f,r,o,s,u,h,i;if(n.classList){if(n.classList.length===0)return n;for(r=t.split(" "),v(r),i=0,e=r.length;i<e;i++)n.classList.remove(r[i]);return n}if(f=d(n),t.indexOf(" ")>=0)r=t.split(" "),o=v(r);else{if(f.indexOf(t)<0)return n;r=[t];o=1}for(u=f.split(" "),h=v(u),i=h-1;i>=0;i--)r.indexOf(u[i])>=0&&(u.splice(i,1),s=!0);return s&&y(n,u.join(" ")),n}function fi(n,t){var r;if(n.classList)return n.classList.toggle(t),n;var u=d(n),i=u.trim().split(" "),f=i.length,e=!1;for(r=0;r<f;r++)i[r]===t&&(e=!0);return e?y(n,i.reduce(function(n,i){return i===t?n:n&&n.length>0?n+" "+i:i},"")):f>0&&i[0].length>0?y(n,u+" "+t):y(n,u+t),n}function ei(n,t,i){n.getAttribute(t)!==""+i&&n.setAttribute(t,i)}function ft(n,t,i,r){var u=Math.max(t,Math.min(i,+n));return u===0?0:u||Math.max(t,Math.min(i,r))}function kt(n,t){if(!wt.test(t)&&bt.test(t)){var i=n.style.left;return n.style.left=t,t=n.style.pixelLeft,n.style.left=i,t}return Math.round(parseFloat(t))||0}function o(n,t){return kt(n,l(n,null)[t])}function p(n){return parseFloat(n)||0}function s(n,t){return p(l(n,null)[t])}function oi(n){var t=l(n);return{top:p(t.marginTop),right:p(t.marginRight),bottom:p(t.marginBottom),left:p(t.marginLeft)}}function dt(n,t,i,r,u){var f=t.toLowerCase();n._eventsMap||(n._eventsMap={});n._eventsMap[f]||(n._eventsMap[f]=[]);n._eventsMap[f].push({listener:i,useCapture:r,data:u})}function ot(n,t,i,r){var o=t.toLowerCase(),f=n._eventsMap&&n._eventsMap[o],u,e;if(f)for(u=f.length-1;u>=0;u--)if(e=f[u],e.listener===i&&!!r==!!e.useCapture)return f.splice(u,1),e;return null}function ci(n,t){var i=t.toLowerCase();return n._eventsMap&&n._eventsMap[i]&&n._eventsMap[i].slice(0)||[]}function g(n,t,i){for(var u,r,f;n;){for(u=ci(n,t),r=0,f=u.length;r<f;r++)u[r].listener.call(n,i);n=n.parentNode}}function st(n){return(n.relatedTarget&&n.relatedTarget.tagName==="IFRAME"||n.target&&n.target.tagName==="IFRAME")&&(n.relatedTarget=null),n}function gt(n,t,i,r){if(r)throw"This custom WinJS event only supports bubbling";dt(n,t,i,r)}function li(n,t){var f=t.changedTouches,u=null,r,e;if(!f)return u;for(r=0,e=f.length;r<e;r++){var i=f[r],o=new nt(t,{pointerType:et.MSPOINTER_TYPE_TOUCH,pointerId:i.identifier,isPrimary:r===0,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,radiusX:i.radiusX,radiusY:i.radiusY,rotationAngle:i.rotationAngle,force:i.force,_currentTouch:i}),s=n(o);u=u||s}return u}function ai(n,t){return t.pointerType=et.MSPOINTER_TYPE_MOUSE,t.pointerId=-1,t.isPrimary=!0,n(t)}function vi(n,t){return n(t)}function yi(n,i,r,u){var e=i.toLowerCase(),s,h,c,f=tt[e],o;t.MSPointerEvent?(c=function(n){return n._normalizedType=e,o=!0,vi(r,n)},n.addEventListener(f.mspointer,c,u)):(f.mouse&&(s=function(n){if(n._normalizedType=e,!o)return ai(r,n);o=!1},n.addEventListener(f.mouse,s,u)),f.touch&&(h=function(n){return n._normalizedType=e,o=!0,li(r,n)},n.addEventListener(f.touch,h,u)));dt(n,i,r,u,{mouseWrapper:s,touchWrapper:h,mspointerWrapper:c})}function pi(n,t,i,r){var e=t.toLowerCase(),u=ot(n,t,i,r),f;u&&(f=tt[e],u.data.mouseWrapper&&n.removeEventListener(f.mouse,u.data.mouseWrapper,r),u.data.touchWrapper&&n.removeEventListener(f.touch,u.data.touchWrapper,r),u.data.mspointerWrapper&&n.removeEventListener(f.mspointer,u.data.mspointerWrapper,r))}function ti(){var n=t.document.createElement("div"),i;n.style.direction="rtl";n.innerHTML="<div style='width: 100px; height: 100px; overflow: scroll; visibility:hidden'><div style='width: 10000px; height: 100px;'><\/div><\/div>";t.document.body.appendChild(n);i=n.firstChild;i.scrollLeft>0&&(at=!0);i.scrollLeft+=100;i.scrollLeft===0&&(ni=!0);t.document.body.removeChild(n);lt=!0}function vt(n){var i=l(n),t=n.scrollLeft;return i.direction==="rtl"&&(lt||ti(),at&&(t=n.scrollWidth-n.clientWidth-t),t=Math.abs(t)),{scrollLeft:t,scrollTop:n.scrollTop}}function yt(n,t,i){if(t!==undefined){var r=l(n);r.direction==="rtl"&&(lt||ti(),ni?t=-t:at&&(t=n.scrollWidth-n.clientWidth-t));n.scrollLeft=t}i!==undefined&&(n.scrollTop=i)}function ii(n){return vt(n)}function di(n,t){t=t||{};yt(n,t.scrollLeft,t.scrollTop)}function ri(n){return n.uniqueID||n._uniqueID||(n._uniqueID="element__"+ ++tr),n.uniqueID||n._uniqueID}function ir(n){n.id||(n.id=ri(n))}function rr(n){var i=t.document.documentElement,r=ii(i);return{left:n.clientX+(t.document.body.dir==="rtl"?-r.scrollLeft:r.scrollLeft),top:n.clientY+i.scrollTop}}function ur(n,t){for(var r,u=[],i=0,f=t.length;i<f;i++)r=n.querySelector("."+t[i]),r&&u.push(r);return u}var w,b,wt,bt,ht,c,nt,tt,h,a,pt,k;if(t.document){w=167;b=null;wt=/^-?\d+\.?\d*(px)?$/i;bt=/^-?\d+/i;var si=t.MSGestureEvent||{MSGESTURE_FLAG_BEGIN:1,MSGESTURE_FLAG_CANCEL:4,MSGESTURE_FLAG_END:2,MSGESTURE_FLAG_INERTIA:8,MSGESTURE_FLAG_NONE:0},hi=t.MSManipulationEvent||{MS_MANIPULATION_STATE_ACTIVE:1,MS_MANIPULATION_STATE_CANCELLED:6,MS_MANIPULATION_STATE_COMMITTED:7,MS_MANIPULATION_STATE_DRAGGING:5,MS_MANIPULATION_STATE_INERTIA:2,MS_MANIPULATION_STATE_PRESELECT:3,MS_MANIPULATION_STATE_SELECTING:4,MS_MANIPULATION_STATE_STOPPED:0},et=t.MSPointerEvent||{MSPOINTER_TYPE_TOUCH:"touch",MSPOINTER_TYPE_PEN:"pen",MSPOINTER_TYPE_MOUSE:"mouse"};ht="onfocusin"in t.document.documentElement;c=null;t.addEventListener(ht?"focusout":"blur",function(n){if(n.target===t){var i=c;i&&g(i,"focusout",st({type:"focusout",target:i,relatedTarget:null}));c=null}});t.document.documentElement.addEventListener(ht?"focusin":"focus",function(n){var t=c;c=n.target;t&&g(t,"focusout",st({type:"focusout",target:t,relatedTarget:c}));c&&g(c,"focusin",st({type:"focusin",target:c,relatedTarget:t}))},!0);nt=function(n,t){t=t||{};this.__eventObject=n;var i=this;Object.keys(t).forEach(function(n){Object.defineProperty(i,n,{value:t[n]})})};["altKey","AT_TARGET","bubbles","BUBBLING_PHASE","button","buttons","cancelable","cancelBubble","CAPTURING_PHASE","clientX","clientY","ctrlKey","currentTarget","defaultPrevented","detail","eventPhase","fromElement","getModifierState","height","hwTimestamp","initEvent","initMouseEvent","initPointerEvent","initUIEvent","isPrimary","isTrusted","layerX","layerY","metaKey","offsetX","offsetY","pageX","pageY","pointerId","pointerType","pressure","preventDefault","relatedTarget","rotation","screenX","screenY","shiftKey","srcElement","stopImmediatePropagation","stopPropagation","target","tiltX","tiltY","timeStamp","toElement","type","view","which","width","x","y","_normalizedType","_fakedBySemanticZoom"].forEach(function(n){Object.defineProperty(nt.prototype,n,{get:function(){var t=this.__eventObject[n];return typeof t=="function"?t.bind(this.__eventObject):t},configurable:!0})});tt={pointerdown:{touch:"touchstart",mspointer:"MSPointerDown",mouse:"mousedown"},pointerup:{touch:"touchend",mspointer:"MSPointerUp",mouse:"mouseup"},pointermove:{touch:"touchmove",mspointer:"MSPointerMove",mouse:"mousemove"},pointerenter:{touch:"touchenter",mspointer:"MSPointerEnter",mouse:"mouseenter"},pointerover:{touch:null,mspointer:"MSPointerOver",mouse:"mouseover"},pointerout:{touch:"touchleave",mspointer:"MSPointerOut",mouse:"mouseout"},pointercancel:{touch:"touchcancel",mspointer:"MSPointerCancel",mouse:null}};h={focusout:{register:gt,unregister:ot},focusin:{register:gt,unregister:ot}};t.PointerEvent||(a={register:yi,unregister:pi},h.pointerdown=a,h.pointerup=a,h.pointermove=a,h.pointerenter=a,h.pointerover=a,h.pointerout=a,h.pointercancel=a);var wi=i.Class.define(function(n){this._callback=n;this._toDispose=[];this._attributeFilter=[];this._scheduled=!1;this._pendingChanges=[];this._observerCount=0;this._handleCallback=this._handleCallback.bind(this);this._targetElements=[]},{observe:function(n,t){this._targetElements.indexOf(n)===-1&&this._targetElements.push(n);this._observerCount++;t.attributes&&this._addRemovableListener(n,"DOMAttrModified",this._handleCallback);t.attributeFilter&&(this._attributeFilter=t.attributeFilter)},disconnect:function(){this._observerCount=0;this._targetElements=[];this._toDispose.forEach(function(n){n()})},_addRemovableListener:function(n,t,i){n.addEventListener(t,i);this._toDispose.push(function(){n.removeEventListener(t,i)})},_handleCallback:function(n){var t,i;(n.stopPropagation(),t=n.attrName,this._attributeFilter.length&&this._attributeFilter.indexOf(t)===-1)||this._targetElements.indexOf(n.target)!==-1&&(i=t.indexOf("aria")>=0,t==="tabindex"&&(t="tabIndex"),this._pendingChanges.push({type:"attributes",target:n.target,attributeName:t}),this._observerCount!==1||i?this._scheduled===!1&&(this._scheduled=!0,r._setImmediate(this._dispatchEvent.bind(this))):this._dispatchEvent())},_dispatchEvent:function(){try{this._callback(this._pendingChanges)}finally{this._pendingChanges=[];this._scheduled=!1}}},{_isShim:!0}),bi=t.MutationObserver||wi,ct=null,ki=i.Class.define(function(){t.addEventListener("resize",this._handleResize.bind(this))},{subscribe:function(n,t){n.addEventListener(this._resizeEvent,t);rt(n,this._resizeClass)},unsubscribe:function(n,t){ut(n,this._resizeClass);n.removeEventListener(this._resizeEvent,t)},_handleResize:function(){for(var i,r=t.document.querySelectorAll("."+this._resizeClass),u=r.length,n=0;n<u;n++)i=t.document.createEvent("Event"),i.initEvent(this._resizeEvent,!1,!0),r[n].dispatchEvent(i)},_resizeClass:{get:function(){return"win-element-resize"}},_resizeEvent:{get:function(){return"WinJSElementResize"}}}),it=i.Class.define(function(n,t,i){i=i||{};this.registerThruWinJSCustomEvents=!!i.registerThruWinJSCustomEvents;this.objectName=n;this.object=t;this.capture={};this.bubble={}},{addEventListener:function(t,i,r,u){i=i.toLowerCase();var e=this._getHandlers(u),f=e[i];f||(f=this._getListener(i,u),f.refCount=0,e[i]=f,this.registerThruWinJSCustomEvents?n._addEventListener(this.object,i,f,u):this.object.addEventListener(i,f,u));f.refCount++;t.addEventListener(this._getEventName(i,u),r);rt(t,this._getClassName(i,u))},removeEventListener:function(t,i,r,u){i=i.toLowerCase();var e=this._getHandlers(u),f=e[i];f&&(f.refCount--,f.refCount===0&&(this.registerThruWinJSCustomEvents?n._removeEventListener(this.object,i,f,u):this.object.removeEventListener(i,f,u),delete e[i]));ut(t,this._getClassName(i,u));t.removeEventListener(this._getEventName(i,u),r)},_getHandlers:function(n){return n?this.capture:this.bubble},_getClassName:function(n,t){var i=t?"capture":"bubble";return"win-"+this.objectName.toLowerCase()+"-event-"+n+i},_getEventName:function(n,t){var i=t?"capture":"bubble";return"WinJS"+this.objectName+"Event-"+n+i},_getListener:function(n,i){var r=function(r){for(var u,s,o=t.document.querySelectorAll("."+this._getClassName(n,i)),h=o.length,f=!1,e=0;e<h;e++)u=t.document.createEvent("Event"),u.initEvent(this._getEventName(n,i),!1,!0),u.detail={originalEvent:r},s=o[e].dispatchEvent(u),f=f||!s;return f};return r.bind(this)}}),lt=!1,at=!1,ni=!1;var gi=t.navigator.msManipulationViewsEnabled||t.navigator.userAgent.indexOf("MSAppHost")>=0,nr=!!(t.MSPointerEvent||t.TouchEvent),tr=0;pt=".win-selectionborder, .win-selectionbackground, .win-selectioncheckmark, .win-selectioncheckmarkbackground";k="_msDataKey";i.Namespace._moduleDefine(n,"WinJS.Utilities",{_dataKey:k,_supportsSnapPoints:{get:function(){return gi}},_supportsTouchDetection:{get:function(){return nr}},_uniqueID:ri,_ensureId:ir,_clamp:ft,_getCursorPos:rr,_getElementsByClasses:ur,_createGestureRecognizer:function(){if(t.MSGesture)return new t.MSGesture;var n=function(){};return{addEventListener:n,removeEventListener:n,addPointer:n,stop:n}},_MSGestureEvent:si,_MSManipulationEvent:hi,_elementsFromPoint:function(n,i){if(t.document.msElementsFromPoint)return t.document.msElementsFromPoint(n,i);var r=t.document.elementFromPoint(n,i);return r?[r]:null},_matchesSelector:function(n,t){var i=n.matches||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector;return i.call(n,t)},_selectionPartsSelector:pt,_isSelectionRendered:function(n){return n.querySelectorAll(pt).length>0},_addEventListener:function(n,t,i,u){var o=t&&t.toLowerCase(),f=h[o],e=r._browserEventEquivalents[t];f?f.register(n,t,i,u):e?n.addEventListener(e,i,u):n.addEventListener(t,i,u)},_removeEventListener:function(n,t,i,u){var o=t&&t.toLowerCase(),f=h[o],e=r._browserEventEquivalents[t];f?f.unregister(n,t,i,u):e?n.removeEventListener(e,i,u):n.removeEventListener(t,i,u)},_initEventImpl:function(n,i,r){r=r.toLowerCase();var u=tt[r];if(u)switch(n.toLowerCase()){case"pointer":t.PointerEvent||(arguments[2]=u.mspointer);break;default:arguments[2]=u[n.toLowerCase()]}i["init"+n+"Event"].apply(i,Array.prototype.slice.call(arguments,2))},_initMouseEvent:function(n){this._initEventImpl.apply(this,["Mouse",n].concat(Array.prototype.slice.call(arguments,1)))},_initPointerEvent:function(n){this._initEventImpl.apply(this,["Pointer",n].concat(Array.prototype.slice.call(arguments,1)))},_PointerEventProxy:nt,_bubbleEvent:g,_setPointerCapture:function(n,t){n.setPointerCapture&&n.setPointerCapture(t)},_releasePointerCapture:function(n,t){n.releasePointerCapture&&n.releasePointerCapture(t)},_MSPointerEvent:et,_getComputedStyle:l,_zoomToDuration:w,_zoomTo:function(n,t){this._supportsSnapPoints&&n.msZoomTo?n.msZoomTo(t):e.schedule(function(){var i=vt(n),o=typeof n._zoomToDestX=="number"?n._zoomToDestX:i.scrollLeft,s=typeof n._zoomToDestY=="number"?n._zoomToDestY:i.scrollTop,u=l(n),c=n.scrollWidth-parseInt(u.width,10)-parseInt(u.paddingLeft,10)-parseInt(u.paddingRight,10),a=n.scrollHeight-parseInt(u.height,10)-parseInt(u.paddingTop,10)-parseInt(u.paddingBottom,10),f,e;if(typeof t.contentX!="number"&&(t.contentX=o),typeof t.contentY!="number"&&(t.contentY=s),f=ft(t.contentX,0,c),e=ft(t.contentY,0,a),f!==o||e!==s){n._zoomToId=n._zoomToId||0;n._zoomToId++;n._zoomToDestX=f;n._zoomToDestY=e;var v=n._zoomToId,y=r._now(),p=(n._zoomToDestX-i.scrollLeft)/w,b=(n._zoomToDestY-i.scrollTop)/w,h=function(){var t=r._now()-y;n._zoomToId===v&&(t>w?(yt(n,n._zoomToDestX,n._zoomToDestY),n._zoomToDestX=null,n._zoomToDestY=null):(yt(n,i.scrollLeft+t*p,i.scrollTop+t*b),r._requestAnimationFrame(h)))};r._requestAnimationFrame(h)}},e.Priority.high,null,"WinJS.Utilities._zoomTo")},_setActive:function(n,i){var r=!0,u,f;try{t.HTMLElement&&t.HTMLElement.prototype.setActive?n.setActive():(i&&(u=i.scrollLeft,f=i.scrollTop),n.focus(),i&&(i.scrollLeft=u,i.scrollTop=f))}catch(e){r=!1}return r},_MutationObserver:bi,_resizeNotifier:{get:function(){return ct||(ct=new ki),ct}},_GenericListener:it,_globalListener:new it("Global",t,{registerThruWinJSCustomEvents:!0}),_documentElementListener:new it("DocumentElement",t.document.documentElement,{registerThruWinJSCustomEvents:!0}),_inputPaneListener:u.Windows.UI.ViewManagement.InputPane?new it("InputPane",u.Windows.UI.ViewManagement.InputPane.getForCurrentView()):{addEventListener:function(){},removeEventListener:function(){}},_addInsertedNotifier:function(i){var u=t.document.createElement("div");return u.style[r._browserStyleEquivalents["animation-name"].scriptName]="WinJS-node-inserted",u.style[r._browserStyleEquivalents["animation-duration"].scriptName]="0.01s",u.style.position="absolute",i.appendChild(u),n._addEventListener(u,"animationStart",function(n){if(n.animationName==="WinJS-node-inserted"){var n=t.document.createEvent("Event");n.initEvent("WinJSNodeInserted",!1,!0);i.dispatchEvent(n)}},!1),u},_inDom:function(i){return new f(function(r){if(t.document.body.contains(i))r();else{var u=function(){i.removeEventListener("WinJSNodeInserted",u,!1);r()};n._addInsertedNotifier(i);i.addEventListener("WinJSNodeInserted",u,!1)}})},_setFlexStyle:function(n,t){var i=n.style;typeof t.grow!="undefined"&&(i.msFlexPositive=t.grow,i.webkitFlexGrow=t.grow,i.flexGrow=t.grow);typeof t.shrink!="undefined"&&(i.msFlexNegative=t.shrink,i.webkitFlexShrink=t.shrink,i.flexShrink=t.shrink);typeof t.basis!="undefined"&&(i.msFlexPreferredSize=t.basis,i.webkitFlexBasis=t.basis,i.flexBasis=t.basis)},Key:{backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,deleteKey:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindows:91,rightWindows:92,menu:93,numPad0:96,numPad1:97,numPad2:98,numPad3:99,numPad4:100,numPad5:101,numPad6:102,numPad7:103,numPad8:104,numPad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NavigationView:136,NavigationMenu:137,NavigationUp:138,NavigationDown:139,NavigationLeft:140,NavigationRight:141,NavigationAccept:142,NavigationCancel:143,numLock:144,scrollLock:145,browserBack:166,browserForward:167,semicolon:186,equal:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,GamepadA:195,GamepadB:196,GamepadX:197,GamepadY:198,GamepadRightShoulder:199,GamepadLeftShoulder:200,GamepadLeftTrigger:201,GamepadRightTrigger:202,GamepadDPadUp:203,GamepadDPadDown:204,GamepadDPadLeft:205,GamepadDPadRight:206,GamepadMenu:207,GamepadView:208,GamepadLeftThumbstick:209,GamepadRightThumbstick:210,GamepadLeftThumbstickUp:211,GamepadLeftThumbstickDown:212,GamepadLeftThumbstickRight:213,GamepadLeftThumbstickLeft:214,GamepadRightThumbstickUp:215,GamepadRightThumbstickDown:216,GamepadRightThumbstickRight:217,GamepadRightThumbstickLeft:218,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222,IME:229},data:function(n){return n[k]||(n[k]={}),n[k]},hasClass:function(n,t){var i;if(n.classList)return n.classList.contains(t);var u=d(n),r=u.trim().split(" "),f=r.length;for(i=0;i<f;i++)if(r[i]===t)return!0;return!1},addClass:rt,removeClass:ut,toggleClass:fi,_setAttribute:ei,getRelativeLeft:function(n,t){if(!n)return 0;for(var r=n.offsetLeft,i=n.parentNode;i;){if(r-=i.offsetLeft,i===t)break;i=i.parentNode}return r},getRelativeTop:function(n,t){if(!n)return 0;for(var r=n.offsetTop,i=n.parentNode;i;){if(r-=i.offsetTop,i===t)break;i=i.parentNode}return r},getScrollPosition:ii,setScrollPosition:di,empty:function(n){if(n.childNodes&&n.childNodes.length>0)for(var t=n.childNodes.length-1;t>=0;t--)n.removeChild(n.childNodes.item(t));return n},_isDOMElement:function(n){return n&&typeof n=="object"&&typeof n.tagName=="string"},getContentWidth:function(n){var t=o(n,"borderLeftWidth")+o(n,"borderRightWidth"),i=o(n,"paddingLeft")+o(n,"paddingRight");return n.offsetWidth-t-i},_getPreciseContentWidth:function(n){var t=s(n,"borderLeftWidth")+s(n,"borderRightWidth"),i=s(n,"paddingLeft")+s(n,"paddingRight");return n.offsetWidth-t-i},getTotalWidth:function(n){var t=o(n,"marginLeft")+o(n,"marginRight");return n.offsetWidth+t},_getPreciseTotalWidth:function(n){var t=s(n,"marginLeft")+s(n,"marginRight");return n.offsetWidth+t},getContentHeight:function(n){var t=o(n,"borderTopWidth")+o(n,"borderBottomWidth"),i=o(n,"paddingTop")+o(n,"paddingBottom");return n.offsetHeight-t-i},_getPreciseContentHeight:function(n){var t=s(n,"borderTopWidth")+s(n,"borderBottomWidth"),i=s(n,"paddingTop")+s(n,"paddingBottom");return n.offsetHeight-t-i},getTotalHeight:function(n){var t=o(n,"marginTop")+o(n,"marginBottom");return n.offsetHeight+t},_getPreciseTotalHeight:function(n){var t=s(n,"marginTop")+s(n,"marginBottom");return n.offsetHeight+t},getPosition:function(t){return n._getPositionRelativeTo(t,null)},getTabIndex:function(n){var i,t;return n.disabled?-1:(i=n.getAttribute("tabindex"),i===null||i===undefined)?(t=n.tagName,/BUTTON|COMMAND|MENUITEM|OBJECT|SELECT|TEXTAREA/.test(t)||n.href&&(t==="A"||t==="AREA"||t==="LINK")||t==="INPUT"&&n.type!=="hidden"||t==="TH"&&n.sorted)?0:-1:parseInt(i,10)},convertToPixels:kt,_convertToPrecisePixels:p,_getPreciseMargins:oi,eventWithinElement:function(n,t){var i=t.relatedTarget;return i&&i!==n?n.contains(i):!1},_deprecated:function(n){t.console&&t.console.warn(n)},_syncRenderer:function(n,i){if(i=i||"div",typeof n=="function")return function(t,i){return i?(i.appendChild(n(t)),i):n(t)};var r;return typeof n.render=="function"?r=n:n.winControl&&typeof n.winControl.render=="function"&&(r=n.winControl),function(n,u){var e=u||t.document.createElement(i),f,o;return r.render(n,e),u?u:(f=e.firstElementChild,f&&e.dispose&&(o=f.dispose,f.dispose=function(){f.dispose=o;e.appendChild(f);e.dispose()}),f)}},_getPositionRelativeTo:function(n,i){for(var f=n,e=n.offsetParent,r=n.offsetTop,u=n.offsetLeft,o;(n=n.parentNode)&&n!==i&&n!==t.document.body&&n!==t.document.documentElement;)r-=n.scrollTop,o=l(n,null).direction,u-=o!=="rtl"?n.scrollLeft:-vt(n).scrollLeft,n===e&&(r+=n.offsetTop,u+=n.offsetLeft,e=n.offsetParent);return{left:u,top:r,width:f.offsetWidth,height:f.offsetHeight}},_getHighAndLowTabIndices:function(n){for(var u,t,e=n.getElementsByTagName("*"),i=0,r=0,o=!1,f=0,s=e.length;f<s;f++)u=e[f].getAttribute("tabIndex"),u!==null&&u!==undefined&&(t=parseInt(u,10),t>0&&(t<i||i===0)&&(i=t),o||(t===0?(o=!0,r=0):t>r&&(r=t)));return{highest:r,lowest:i}},_getLowestTabIndexInList:function(n){for(var t=0,i,r=0;r<n.length;r++)i=parseInt(n[r].getAttribute("tabIndex"),10),0<i&&(i<t||!t)&&(t=i);return t},_getHighestTabIndexInList:function(n){for(var i=0,t,r=0;r<n.length;r++){if(t=parseInt(n[r].getAttribute("tabIndex"),10),t===0)return t;i<t&&(i=t)}return i},_hasCursorKeysBehaviors:function(n){return n.tagName==="SELECT"||n.tagName==="TEXTAREA"?!0:n.tagName==="INPUT"?n.type===""||n.type==="date"||n.type==="datetime"||n.type==="datetime-local"||n.type==="email"||n.type==="month"||n.type==="number"||n.type==="password"||n.type==="range"||n.type==="search"||n.type==="tel"||n.type==="text"||n.type==="time"||n.type==="url"||n.type==="week":!1},_reparentChildren:function(n,t){for(var i=n.firstChild,r;i;)r=i.nextSibling,t.appendChild(i),i=r},_maintainFocus:function(i){var r=t.document.activeElement;i();n._trySetActiveOnAnyElement(r)},_trySetActiveOnAnyElement:function(t,i){return n._tryFocusOnAnyElement(t,!0,i)},_tryFocusOnAnyElement:function(i,r,u){var f=t.document.activeElement;return i===f?!0:(r?n._setActive(i,u):i.focus(),f!==t.document.activeElement)},_trySetActive:function(n,t){return this._tryFocus(n,!0,t)},_tryFocus:function(i,r,u){var f=t.document.activeElement,e;return i===f?!0:(e=n.getTabIndex(i)>=0,!e)?!1:(r?n._setActive(i,u):i.focus(),f!==t.document.activeElement)?!0:!1},_setActiveFirstFocusableElement:function(n,t){return this._focusFirstFocusableElement(n,!0,t)},_focusFirstFocusableElement:function(n,t,i){for(var u=n.getElementsByTagName("*"),e=this._getLowestTabIndexInList(u),f=0,r;e;){for(r=0;r<u.length;r++)if(u[r].tabIndex===e){if(this._tryFocus(u[r],t,i))return!0}else e<u[r].tabIndex&&(u[r].tabIndex<f||f===0)&&(f=u[r].tabIndex);e=f;f=0}for(r=0;r<u.length;r++)if(this._tryFocus(u[r],t,i))return!0;return!1},_setActiveLastFocusableElement:function(n,t){return this._focusLastFocusableElement(n,!0,t)},_focusLastFocusableElement:function(n,t,i){var u=n.getElementsByTagName("*"),e=this._getHighestTabIndexInList(u),f=0,r;if(e===0){for(r=u.length-1;r>=0;r--)if(u[r].tabIndex===e){if(this._tryFocus(u[r],t,i))return!0}else f<u[r].tabIndex&&(f=u[r].tabIndex);e=f;f=0}while(e){for(r=u.length-1;r>=0;r--)if(u[r].tabIndex===e){if(this._tryFocus(u[r],t,i))return!0}else f<u[r].tabIndex&&u[r].tabIndex<e&&(f=u[r].tabIndex);e=f;f=0}for(r=u.length-2;r>0;r--)if(this._tryFocus(u[r],t,i))return!0;return!1}})}}),r("WinJS/ControlProcessor/_OptionsLexer",["exports","../Core/_Base"],function(n,t){"use strict";t.Namespace._moduleDefine(n,"WinJS.UI",{_optionsLexer:t.Namespace._lazy(function(){function i(t){return{type:n.reservedWord,value:t,length:t.length,keyword:!0}}function u(n){switch(n.charCodeAt(0)){case 98:switch(n){case"break":return i(n)}break;case 99:switch(n){case"case":case"catch":case"class":case"const":case"continue":return i(n)}break;case 100:switch(n){case"debugger":case"default":case"delete":case"do":return i(n)}break;case 101:switch(n){case"else":case"enum":case"export":case"extends":return i(n)}break;case 102:switch(n){case"false":return t.falseLiteral;case"finally":case"for":case"function":return i(n)}break;case 105:switch(n){case"if":case"import":case"in":case"instanceof":return i(n)}break;case 110:switch(n){case"null":return t.nullLiteral;case"new":return i(n)}break;case 114:switch(n){case"return":return i(n)}break;case 115:switch(n){case"super":case"switch":return i(n)}break;case 116:switch(n){case"true":return t.trueLiteral;case"this":return t.thisKeyword;case"throw":case"try":case"typeof":return i(n)}break;case 118:switch(n){case"var":case"void":return i(n)}break;case 119:switch(n){case"while":case"with":return i(n)}}return}var n={leftBrace:1,rightBrace:2,leftBracket:3,rightBracket:4,separator:5,colon:6,semicolon:7,comma:8,dot:9,nullLiteral:10,trueLiteral:11,falseLiteral:12,numberLiteral:13,stringLiteral:14,identifier:15,reservedWord:16,thisKeyword:17,leftParentheses:18,rightParentheses:19,eof:20,error:21},t={leftBrace:{type:n.leftBrace,length:1},rightBrace:{type:n.rightBrace,length:1},leftBracket:{type:n.leftBracket,length:1},rightBracket:{type:n.rightBracket,length:1},colon:{type:n.colon,length:1},semicolon:{type:n.semicolon,length:1},comma:{type:n.comma,length:1},dot:{type:n.dot,length:1},nullLiteral:{type:n.nullLiteral,length:4,value:null,keyword:!0},trueLiteral:{type:n.trueLiteral,length:4,value:!0,keyword:!0},falseLiteral:{type:n.falseLiteral,length:5,value:!1,keyword:!0},thisKeyword:{type:n.thisKeyword,length:4,value:"this",keyword:!0},leftParentheses:{type:n.leftParentheses,length:1},rightParentheses:{type:n.rightParentheses,length:1},eof:{type:n.eof,length:0}},r=function(){function h(n,t,r,u){switch(n){case n>=97&&n<=122&&n:case n>=65&&n<=90&&n:case 36:case 95:return!0;case s(n)&&n:case e(n)&&n:return!1;case n>127&&n:return!0;case 92:return r+4<u&&t.charCodeAt(r)===117&&i(t.charCodeAt(r+1))&&i(t.charCodeAt(r+2))&&i(t.charCodeAt(r+3))&&i(t.charCodeAt(r+4))?!0:!1;default:return!1}}function c(n,t,r){for(var f=!1,u;t<r;){u=n.charCodeAt(t);switch(u){case u>=97&&u<=122&&u:case u>=65&&u<=90&&u:case 36:case 95:break;case s(u)&&u:case e(u)&&u:return f?-t:t;case u>127&&u:break;case u>=48&&u<=57&&u:break;case 92:if(t+5<r&&n.charCodeAt(t+1)===117&&i(n.charCodeAt(t+2))&&i(n.charCodeAt(t+3))&&i(n.charCodeAt(t+4))&&i(n.charCodeAt(t+5))){t+=5;f=!0;break}return f?-t:t;default:return f?-t:t}t++}return f?-t:t}function l(t,i,r){var e=i,o,f,s;return(i=c(t,i,r),o=!1,i<0&&(i=-i,o=!0),f=t.substr(e,i-e),o&&(f=""+JSON.parse('"'+f+'"')),s=u(f),s)?s:{type:n.identifier,length:i-e,value:f}}function i(n){switch(n){case n>=48&&n<=57&&n:case n>=97&&n<=102&&n:case n>=65&&n<=70&&n:return!0;default:return!1}}function a(n,t,r){while(t<r&&i(n.charCodeAt(t)))t++;return t}function r(n){switch(n){case n>=48&&n<=57&&n:return!0;default:return!1}}function o(n,t,i){while(t<i&&r(n.charCodeAt(t)))t++;return t}function v(n,t,i){var u,f;return t=o(n,t,i),t<i&&n.charCodeAt(t)===46&&t+1<i&&r(n.charCodeAt(t+1))&&(t=o(n,t+2,i)),t<i&&(u=n.charCodeAt(t),(u===101||u===69)&&(f=t+1,f<i&&(u=n.charCodeAt(f),(u===43||u===45)&&f++,t=o(n,f,i)))),t}function f(t,i,r,u){var r=v(t,r,u),f=r-i;return{type:n.numberLiteral,length:f,value:+t.substr(i,f)}}function e(n){switch(n){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function y(t,i,r){var o=i,s=t.charCodeAt(i),f=!1,u,h;for(i++;i<r&&!e(t.charCodeAt(i));){if(i+1<r&&t.charCodeAt(i)===92){f=!0;switch(t.charCodeAt(i+1)){case s:case 92:case 10:case 8232:case 8233:i+=2;continue;case 13:i+=i+2<r&&t.charCodeAt(i+2)===10?3:2;continue}}if(i++,t.charCodeAt(i-1)===s)break}return u=i-o,f=f||u===1||t.charCodeAt(i-1)!==s,h=f?eval(t.substr(o,u)):t.substr(o+1,u-2),{type:n.stringLiteral,length:u,value:h}}function s(n){switch(n){case 9:case 11:case 12:case 32:case 160:case 65279:return!0;case n<5760&&n:return!1;case 5760:case 6158:case n>=8192&&n<=8202&&n:case 8239:case 8287:case 12288:return!0;default:return!1}}function p(n,t,i){while(t<i){var r=n.charCodeAt(t);switch(r){case 9:case 11:case 12:case 32:case 160:case 65279:break;case r<5760&&r:return t;case 5760:case 6158:case r>=8192&&r<=8202&&r:case 8239:case 8287:case 12288:break;default:return t}t++}return t}function w(i,u,o,c){for(var w,b,v,d,k,g,nt;o<c;){w=o;b=u.charCodeAt(o++);switch(b){case s(b)&&b:case e(b)&&b:o=p(u,o,c);v={type:n.separator,length:o-w};continue;case 34:case 39:v=y(u,o-1,c);break;case 40:v=t.leftParentheses;break;case 41:v=t.rightParentheses;break;case 43:case 45:if(o<c)if(d=u.charCodeAt(o),d===46){if(k=o+1,k<c&&r(u.charCodeAt(k))){v=f(u,w,k,c);break}}else if(r(d)){v=f(u,w,o,c);break}v={type:n.error,length:o-w,value:u.substring(w,o)};break;case 44:v=t.comma;break;case 46:v=t.dot;o<c&&r(u.charCodeAt(o))&&(v=f(u,w,o,c));break;case 48:g=o<c?u.charCodeAt(o):0;g===120||g===88?(nt=a(u,o+1,c),v={type:n.numberLiteral,length:nt-w,value:+u.substr(w,nt-w)}):v=f(u,w,o,c);break;case b>=49&&b<=57&&b:v=f(u,w,o,c);break;case 58:v=t.colon;break;case 59:v=t.semicolon;break;case 91:v=t.leftBracket;break;case 93:v=t.rightBracket;break;case 123:v=t.leftBrace;break;case 125:v=t.rightBrace;break;default:if(h(b,u,o,c)){v=l(u,o-1,c);break}v={type:n.error,length:o-w,value:u.substring(w,o)}}o+=v.length-1;i.push(v)}}return function(n){var i=[];return w(i,n,0,n.length),i.push(t.eof),i}}();return r.tokenType=n,r})})}),r("WinJS/ControlProcessor/_OptionsParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","./_OptionsLexer"],function(n,t,i,r,u,f){"use strict";function s(){throw"Illegal";}function v(n){for(var i=Object.keys(e.tokenType),t=0,r=i.length;t<r;t++)if(n===e.tokenType[i[t]])return i[t];return"<unknown>"}var c={get invalidOptionsRecord(){return"Invalid options record: '{0}', expected to be in the format of an object literal. {1}"},get unexpectedTokenExpectedToken(){return"Unexpected token: {0}, expected token: {1}, at offset {2}"},get unexpectedTokenExpectedTokens(){return"Unexpected token: {0}, expected one of: {1}, at offset {2}"},get unexpectedTokenGeneric(){return"Unexpected token: {0}, at offset {1}"}},e=t.Namespace.defineWithParent(null,null,{lexer:t.Namespace._lazy(function(){return f._optionsLexer}),tokenType:t.Namespace._lazy(function(){return f._optionsLexer.tokenType})}),a=i.requireSupportedForProcessing,o=t.Namespace.defineWithParent(null,null,{BaseInterpreter:t.Namespace._lazy(function(){return t.Class.define(null,{_error:function(n){throw new r("WinJS.UI.ParseError",n);},_currentOffset:function(){for(var i=this._pos,t=0,n=0;n<i;n++)t+=this._tokens[n].length;return t},_evaluateAccessExpression:function(n){var t,i;switch(this._current.type){case e.tokenType.dot:this._read();switch(this._current.type){case e.tokenType.identifier:case this._current.keyword&&this._current.type:return t=this._current.value,this._read(),n[t];default:this._unexpectedToken(e.tokenType.identifier,e.tokenType.reservedWord)}return;case e.tokenType.leftBracket:return this._read(),i=this._evaluateValue(),this._read(e.tokenType.rightBracket),n[i]}},_evaluateAccessExpressions:function(n){for(;;)switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:n=this._evaluateAccessExpression(n);break;default:return n}},_evaluateIdentifier:function(n,t){var i=this._readIdentifier();return n?t[i]:this._context[i]},_evaluateIdentifierExpression:function(){var n=this._evaluateIdentifier(!1);switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:return this._evaluateAccessExpressions(n);default:return n}},_initialize:function(n,t,i,r){this._originalSource=t;this._tokens=n;this._context=i;this._functionContext=r;this._pos=0;this._current=this._tokens[0]},_read:function(n){n&&this._current.type!==n&&this._unexpectedToken(n);this._current!==e.tokenType.eof&&(this._current=this._tokens[++this._pos])},_peek:function(n){if(!n||this._current.type===n)return this._current!==e.tokenType.eof?this._tokens[this._pos+1]:void 0},_readAccessExpression:function(n){switch(this._current.type){case e.tokenType.dot:this._read();switch(this._current.type){case e.tokenType.identifier:case this._current.keyword&&this._current.type:n.push(this._current.value);this._read();break;default:this._unexpectedToken(e.tokenType.identifier,e.tokenType.reservedWord)}return;case e.tokenType.leftBracket:this._read();n.push(this._evaluateValue());this._read(e.tokenType.rightBracket);return}},_readAccessExpressions:function(n){for(;;)switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:this._readAccessExpression(n);break;default:return}},_readIdentifier:function(){var n=this._current.value;return this._read(e.tokenType.identifier),n},_readIdentifierExpression:function(){var n=[];this._peek(e.tokenType.thisKeyword)&&n.length===0?this._read():n.push(this._readIdentifier());switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:this._readAccessExpressions(n)}return n},_unexpectedToken:function(n){var i=this._current.type===e.tokenType.error?"'"+this._current.value+"'":v(this._current.type),r,t,f;if(n)if(arguments.length===1)n=v(n),this._error(u._formatString(c.unexpectedTokenExpectedToken,i,n,this._currentOffset()));else{for(r=[],t=0,f=arguments.length;t<f;t++)r.push(v(arguments[t]));n=r.join(", ");this._error(u._formatString(c.unexpectedTokenExpectedTokens,i,n,this._currentOffset()))}else this._error(u._formatString(c.unexpectedTokenGeneric,i,this._currentOffset()))}},{supportedForProcessing:!1})}),OptionsInterpreter:t.Namespace._lazy(function(){return t.Class.derive(o.BaseInterpreter,function(n,t,i,r){this._initialize(n,t,i,r)},{_error:function(n){throw new r("WinJS.UI.ParseError",u._formatString(c.invalidOptionsRecord,this._originalSource,n));},_evaluateArrayLiteral:function(){var n=[];return this._read(e.tokenType.leftBracket),this._readArrayElements(n),this._read(e.tokenType.rightBracket),n},_evaluateObjectLiteral:function(){var n={};return this._read(e.tokenType.leftBrace),this._readObjectProperties(n),this._tryReadComma(),this._read(e.tokenType.rightBrace),n},_evaluateOptionsLiteral:function(){var n=this._evaluateValue();return this._current.type!==e.tokenType.eof&&this._unexpectedToken(e.tokenType.eof),n},_peekValue:function(){switch(this._current.type){case e.tokenType.falseLiteral:case e.tokenType.nullLiteral:case e.tokenType.stringLiteral:case e.tokenType.trueLiteral:case e.tokenType.numberLiteral:case e.tokenType.leftBrace:case e.tokenType.leftBracket:case e.tokenType.identifier:return!0;default:return!1}},_evaluateValue:function(){switch(this._current.type){case e.tokenType.falseLiteral:case e.tokenType.nullLiteral:case e.tokenType.stringLiteral:case e.tokenType.trueLiteral:case e.tokenType.numberLiteral:var n=this._current.value;return this._read(),n;case e.tokenType.leftBrace:return this._evaluateObjectLiteral();case e.tokenType.leftBracket:return this._evaluateArrayLiteral();case e.tokenType.identifier:return this._peek(e.tokenType.identifier).type===e.tokenType.leftParentheses?a(this._evaluateObjectQueryExpression()):a(this._evaluateIdentifierExpression());default:this._unexpectedToken(e.tokenType.falseLiteral,e.tokenType.nullLiteral,e.tokenType.stringLiteral,e.tokenType.trueLiteral,e.tokenType.numberLiteral,e.tokenType.leftBrace,e.tokenType.leftBracket,e.tokenType.identifier)}},_tryReadElement:function(n){return this._peekValue()?(n.push(this._evaluateValue()),!0):!1},_tryReadComma:function(){return this._peek(e.tokenType.comma)?(this._read(),!0):!1},_tryReadElision:function(n){for(var t=!1;this._tryReadComma();)n.push(undefined),t=!0;return t},_readArrayElements:function(n){while(!this._peek(e.tokenType.rightBracket)){var i=this._tryReadElision(n),t=this._tryReadElement(n),r=this._peek(e.tokenType.comma);if(t&&r)this._read();else if(t||i)break;else{this._unexpectedToken(e.tokenType.falseLiteral,e.tokenType.nullLiteral,e.tokenType.stringLiteral,e.tokenType.trueLiteral,e.tokenType.numberLiteral,e.tokenType.leftBrace,e.tokenType.leftBracket,e.tokenType.identifier);break}}},_readObjectProperties:function(n){while(!this._peek(e.tokenType.rightBrace)){var t=this._tryReadObjectProperty(n),i=this._peek(e.tokenType.comma);if(t&&i)this._read();else if(t)break;else{this._unexpectedToken(e.tokenType.numberLiteral,e.tokenType.stringLiteral,e.tokenType.identifier);break}}},_tryReadObjectProperty:function(n){switch(this._current.type){case e.tokenType.numberLiteral:case e.tokenType.stringLiteral:case e.tokenType.identifier:case this._current.keyword&&this._current.type:var t=this._current.value;return this._read(),this._read(e.tokenType.colon),n[t]=this._evaluateValue(),!0;default:return!1}},_failReadObjectProperty:function(){this._unexpectedToken(e.tokenType.numberLiteral,e.tokenType.stringLiteral,e.tokenType.identifier,e.tokenType.reservedWord)},_evaluateObjectQueryExpression:function(){var i=this._current.value,t,n;this._read(e.tokenType.identifier);this._read(e.tokenType.leftParentheses);t=this._current.value;this._read(e.tokenType.stringLiteral);this._read(e.tokenType.rightParentheses);n=a(this._functionContext[i])(t);switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:return this._evaluateAccessExpressions(n);default:return n}},run:function(){return this._evaluateOptionsLiteral()}},{supportedForProcessing:!1})}),OptionsParser:t.Namespace._lazy(function(){return t.Class.derive(o.OptionsInterpreter,function(n,t){this._initialize(n,t)},{_evaluateAccessExpression:s,_evaluateAccessExpressions:s,_evaluateIdentifier:s,_evaluateIdentifierExpression:s,_evaluateObjectQueryExpression:s,_evaluateValue:function(){switch(this._current.type){case e.tokenType.falseLiteral:case e.tokenType.nullLiteral:case e.tokenType.stringLiteral:case e.tokenType.trueLiteral:case e.tokenType.numberLiteral:var n=this._current.value;return this._read(),n;case e.tokenType.leftBrace:return this._evaluateObjectLiteral();case e.tokenType.leftBracket:return this._evaluateArrayLiteral();case e.tokenType.identifier:return this._peek(e.tokenType.identifier).type===e.tokenType.leftParentheses?this._readObjectQueryExpression():this._readIdentifierExpression();default:this._unexpectedToken(e.tokenType.falseLiteral,e.tokenType.nullLiteral,e.tokenType.stringLiteral,e.tokenType.trueLiteral,e.tokenType.numberLiteral,e.tokenType.leftBrace,e.tokenType.leftBracket,e.tokenType.identifier)}},_readIdentifierExpression:function(){var n=o.BaseInterpreter.prototype._readIdentifierExpression.call(this);return new h(n)},_readObjectQueryExpression:function(){var r=this._current.value,i,n,t;this._read(e.tokenType.identifier);this._read(e.tokenType.leftParentheses);i=this._current.value;this._read(e.tokenType.stringLiteral);this._read(e.tokenType.rightParentheses);n=new l(r,i);switch(this._current.type){case e.tokenType.dot:case e.tokenType.leftBracket:return t=[n],this._readAccessExpressions(t),new h(t);default:return n}}},{supportedForProcessing:!1})})}),y=function(n,t,i){var r=e.lexer(n),u=new o.OptionsInterpreter(r,n,t||{},i||{});return u.run()},p,l,h;Object.defineProperty(y,"_BaseInterpreter",{get:function(){return o.BaseInterpreter}});p=function(n){var t=e.lexer(n),i=new o.OptionsParser(t,n);return i.run()};l=t.Class.define(function(n,t){this.target=n;this.arg0Value=t});l.supportedForProcessing=!1;h=t.Class.define(function(n){this.parts=n});h.supportedForProcessing=!1;t.Namespace._moduleDefine(n,"WinJS.UI",{optionsParser:y,_optionsParser:p,_CallExpression:l,_IdentifierExpression:h})}),r("WinJS/XYFocus",["require","exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Events","./ControlProcessor/_OptionsParser"],function(t,i,r,u,f,e,o,s){"use strict";function ft(n,t){var i=st(n,t);return i?i.target:null}function ot(n,t){var i,u;return(r.window.pageYOffset===0&&(n==="up"||n==="down")&&(n="down",t=t||{},t.referenceRect=b(),t.referenceRect.left=0,t.referenceRect.right=r.window.innerWidth,t.referenceRect.width=r.window.innerWidth,t.referenceRect.top=-2,t.referenceRect.bottom=-1,t.referenceRect.height=1),i=ft(n,t),i&&(u=r.document.activeElement,ht(i,-1)))?(rt.dispatchEvent(it.focusChanged,{previousFocusElement:u,keyCode:-1}),i):null}function g(t,u,f,o){function at(n,t){var i=b();n===k.left||n===k.right?(i.top=Math.max(t.targetRect.top,t.referenceRect.top,l?l.top:Number.MIN_VALUE),i.bottom=Math.min(t.targetRect.bottom,t.referenceRect.bottom,l?l.bottom:Number.MAX_VALUE),i.bottom<=i.top&&(i.top=t.targetRect.top,i.bottom=t.targetRect.bottom),i.height=i.bottom-i.top,i.width=Number.MAX_VALUE,i.left=Number.MIN_VALUE,i.right=Number.MAX_VALUE):(i.left=Math.max(t.targetRect.left,t.referenceRect.left,l?l.left:Number.MIN_VALUE),i.right=Math.min(t.targetRect.right,t.referenceRect.right,l?l.right:Number.MAX_VALUE),i.right<=i.left&&(i.left=t.targetRect.left,i.right=t.targetRect.right),i.width=i.right-i.left,i.height=Number.MAX_VALUE,i.top=Number.MIN_VALUE,i.bottom=Number.MAX_VALUE);l=i}var g,nt,h,v,tt,et,ot;f||r.document.activeElement!==p?(l=null,p=null,d=null):p&&d&&(g=w(p.getBoundingClientRect()),(g.left!==d.left||g.top!==d.top)&&(l=null,p=null,d=null));var ut=r.document.activeElement,vt=p,s=st(t,{focusRoot:i.focusRoot,historyRect:l,referenceElement:p,referenceRect:f});if(s&&ht(s.target,u))return at(t,s),p=s.target,d=s.targetRect,e.hasClass(s.target,a.toggleMode)&&e.removeClass(s.target,a.toggleModeActive),s.target.tagName==="IFRAME"&&(nt=s.target,y.isXYFocusEnabled(nt)&&(h=w({left:s.referenceRect.left-s.targetRect.left,top:s.referenceRect.top-s.targetRect.top,width:s.referenceRect.width,height:s.referenceRect.height}),v={},v[c.messageDataProperty]={type:c.dFocusEnter,direction:t,referenceRect:h,keyCode:u},nt.contentWindow.postMessage(v,"*"))),rt.dispatchEvent(it.focusChanged,{previousFocusElement:ut,keyCode:u}),!0;if(t==="up"){if(r.window.pageYOffset>0)return r.window.scrollTo(n.pageXOffset,0),!1}else if(t==="down"){var ct=r.document.documentElement.scrollHeight,lt=r.window.innerHeight,ft=ct-lt;if(r.window.pageYOffset<ft)return r.window.scrollTo(r.window.pageXOffset,ft),!1}return!o&&top!==r.window?(h=f,h||(h=r.document.activeElement?w(r.document.activeElement.getBoundingClientRect()):b()),v={},v[c.messageDataProperty]={type:c.dFocusExit,direction:t,referenceRect:h,keyCode:u},r.parent.postMessage(v,"*"),!0):(tt=r.window.CortanaApp,tt&&(t==="up"||t==="down")&&(et=yt(r.document.activeElement.getBoundingClientRect()||b()),ot=tt.tryMoveFocus(t,et),ot))?(ut.blur(),!0):!1}function st(n,t){function o(n,t,i,r){if(n>=r||t<=i)return 0;var f=Math.min(t,r)-Math.max(n,i),u=Math.min(r-i,t-n);return u===0?0:f/u}function it(n,t,i,r,u){var c=0,e,f,s=0,h=0;switch(n){case k.left:if(u.left>=r.left)break;e=o(r.top,r.bottom,u.top,u.bottom);f=r.left-u.right;e>0?h=o(i.top,i.bottom,u.top,u.bottom):s=r.bottom<=u.top?u.top-r.bottom:r.top-u.bottom;break;case k.right:if(u.right<=r.right)break;e=o(r.top,r.bottom,u.top,u.bottom);f=u.left-r.right;e>0?h=o(i.top,i.bottom,u.top,u.bottom):s=r.bottom<=u.top?u.top-r.bottom:r.top-u.bottom;break;case k.up:if(u.top>=r.top)break;e=o(r.left,r.right,u.left,u.right);f=r.top-u.bottom;e>0?h=o(i.left,i.right,u.left,u.right):s=r.right<=u.left?u.left-r.right:r.left-u.right;break;case k.down:if(u.bottom<=r.bottom)break;e=o(r.left,r.right,u.